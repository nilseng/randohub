{"version":3,"sources":["serviceWorker.js","containers/react-auth0-spa.js","utils/history.js","containers/PrivateRoute.js","components/NavBar.js","components/Profile.js","components/ImagePlaceholder.js","components/TripCard.js","components/TripModal.js","components/Feed.js","components/Summits.js","components/BucketList.js","components/Map.js","components/App.js","index.js"],"names":["Boolean","window","location","hostname","match","DEFAULT_REDIRECT_CALLBACK","history","replaceState","document","title","pathname","Auth0Context","React","createContext","useAuth0","useContext","_initOptions","domain","process","client_id","getAuth0Client","Promise","resolve","reject","a","client","createAuth0Client","Error","getIdTokenClaims","Auth0Provider","children","onRedirectCallback","initOptions","useState","isAuthenticated","setIsAuthenticated","user","setUser","auth0Client","setAuth0","loading","setLoading","popupOpen","setPopupOpen","useEffect","auth0FromHook","search","includes","handleRedirectCallback","appState","getUser","initAuth0","loginWithPopup","params","console","error","Provider","value","loginWithRedirect","getTokenSilently","getTokenWithPopup","logout","createBrowserHistory","PrivateRoute","Component","component","path","rest","targetUrl","fn","render","props","NavBar","setShowModal","Navbar","bg","variant","expand","collapseOnSelect","Brand","style","color","href","backgroundColor","padding","borderRadius","icon","faMountain","marginRight","Toggle","className","aria-controls","outline","Collapse","id","Nav","Link","onClick","faPlus","Item","Button","faKey","faList","faSkiingNordic","faBan","Profile","src","picture","alt","name","email","JSON","stringify","ImagePlaceholder","text","faImages","size","TripCard","trip","setTripToEdit","image","setImage","Date","createdAt","toLocaleString","undefined","year","month","day","date","images","length","fetch","_id","then","res","blob","imageBlob","imageUrl","URL","createObjectURL","Card","createdBy","sub","imageIds","map","img","faPen","Title","Img","description","CREATE_IMAGE","gql","TripModal","setTrip","defaultTrip","showModal","createTrip","updateTrip","deleteTrip","files","setFiles","handleShow","variables","tripWithId","data","onSave","saveImages","handleClose","onDiscard","formData","FormData","Array","from","append","createImage","tripId","imageInfo","push","token","headers","authorization","__raw","method","body","useMutation","Modal","show","onHide","onShow","Header","Form","Group","Label","Control","onChange","e","target","Body","Carousel","file","key","Image","rounded","Caption","File","custom","Input","multiple","accept","handleImageChange","data-browse","placeholder","as","rows","Footer","faTrash","faCheck","GET_TRIPS","CREATE_TRIP","UPDATE_TRIP","DELETE_TRIP","Feed","useQuery","log","update","cache","trips","readQuery","query","unshift","writeQuery","filter","Container","Summits","useHistory","width","minHeight","margin","maxWidth","faMap","BucketList","Map","mapboxgl","accessToken","lng","lat","zoom","mapState","mapEl","useRef","container","current","center","ref","position","height","top","right","left","bottom","summitIds","App","setToken","localStorage","setItem","getTokenAsync","exact","httpLink","createHttpLink","credentials","authLink","setContext","_","ApolloClient","link","concat","InMemoryCache","ReactDOM","redirect_uri","origin","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.71c120bb.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","// src/react-auth0-spa.js\nimport React, { useState, useEffect, useContext } from \"react\";\nimport createAuth0Client from \"@auth0/auth0-spa-js\";\n\nconst DEFAULT_REDIRECT_CALLBACK = () =>\n  window.history.replaceState({}, document.title, window.location.pathname);\n\nexport const Auth0Context = React.createContext();\nexport const useAuth0 = () => useContext(Auth0Context);\n\nlet _initOptions = {\n  domain: process.env.REACT_APP_AUTH0_DOMAIN,\n  client_id: process.env.REACT_APP_AUTH0_CLIENT_ID,\n};\n\nconst getAuth0Client = () => {\n  return new Promise(async (resolve, reject) => {\n    let client;\n    if (!client) {\n      try {\n        client = await createAuth0Client(_initOptions);\n        resolve(client);\n      } catch (e) {\n        reject(new Error(\"getAuth0Client Error\", e));\n      }\n    }\n  });\n};\n\nexport const getTokenSilently = async (...p) => {\n  const client = await getAuth0Client();\n  return await client.getTokenSilently(...p);\n};\n\nexport const getIdTokenClaims = async (...p) => {\n  const client = await getAuth0Client();\n  return await client.getIdTokenClaims(...p);\n};\n\nexport const Auth0Provider = ({\n  children,\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\n  ...initOptions\n}) => {\n  const [isAuthenticated, setIsAuthenticated] = useState();\n  const [user, setUser] = useState();\n  const [auth0Client, setAuth0] = useState();\n  const [loading, setLoading] = useState(true);\n  const [popupOpen, setPopupOpen] = useState(false);\n\n  useEffect(() => {\n    const initAuth0 = async () => {\n      const auth0FromHook = await createAuth0Client(initOptions);\n      setAuth0(auth0FromHook);\n\n      if (\n        window.location.search.includes(\"code=\") &&\n        window.location.search.includes(\"state=\")\n      ) {\n        const { appState } = await auth0FromHook.handleRedirectCallback();\n        onRedirectCallback(appState);\n      }\n\n      const isAuthenticated = await auth0FromHook.isAuthenticated();\n\n      setIsAuthenticated(isAuthenticated);\n\n      if (isAuthenticated) {\n        const user = await auth0FromHook.getUser();\n        setUser(user);\n      }\n\n      setLoading(false);\n    };\n    initAuth0();\n    // eslint-disable-next-line\n  }, []);\n\n  const loginWithPopup = async (params = {}) => {\n    setPopupOpen(true);\n    try {\n      await auth0Client.loginWithPopup(params);\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setPopupOpen(false);\n    }\n    const user = await auth0Client.getUser();\n    setUser(user);\n    setIsAuthenticated(true);\n  };\n\n  const handleRedirectCallback = async () => {\n    setLoading(true);\n    await auth0Client.handleRedirectCallback();\n    const user = await auth0Client.getUser();\n    setLoading(false);\n    setIsAuthenticated(true);\n    setUser(user);\n  };\n  return (\n    <Auth0Context.Provider\n      value={{\n        isAuthenticated,\n        user,\n        loading,\n        popupOpen,\n        loginWithPopup,\n        handleRedirectCallback,\n        getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\n        loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\n        getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\n        getTokenWithPopup: (...p) => auth0Client.getTokenWithPopup(...p),\n        logout: (...p) => auth0Client.logout(...p),\n      }}\n    >\n      {children}\n    </Auth0Context.Provider>\n  );\n};\n","import { createBrowserHistory } from \"history\";\nexport default createBrowserHistory();\n","import React, { useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useAuth0 } from \"./react-auth0-spa\";\n\nconst PrivateRoute = ({ component: Component, path, ...rest }) => {\n  const { loading, isAuthenticated, loginWithRedirect } = useAuth0();\n\n  useEffect(() => {\n    if (loading || isAuthenticated) {\n      return;\n    }\n    const fn = async () => {\n      await loginWithRedirect({\n        appState: { targetUrl: window.location.pathname },\n      });\n    };\n    fn();\n  }, [loading, isAuthenticated, loginWithRedirect, path]);\n\n  const render = (props) => {\n    return isAuthenticated === true ? <Component {...props} {...rest} /> : null;\n  };\n\n  return <Route path={path} render={render} />;\n};\n\nexport default PrivateRoute;\n","import React from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Button from \"react-bootstrap/Button\";\nimport { FontAwesomeIcon as FaIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faMountain,\n  faList,\n  faSkiingNordic,\n  faBan,\n  faKey,\n  faPlus,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport { useAuth0 } from \"../containers/react-auth0-spa\";\n\nimport \"../styles/NavBar.scss\";\n\nconst NavBar = ({ setShowModal }) => {\n  const { loading, isAuthenticated, loginWithRedirect, logout } = useAuth0();\n\n  return (\n    <Navbar bg=\"dark\" variant=\"dark\" expand=\"md\" collapseOnSelect>\n      <Navbar.Brand style={{ color: \"#f8f9fa\" }} href=\"/\">\n        <span\n          style={{\n            backgroundColor: \"#f8f9fa\",\n            padding: \"0.4rem\",\n            borderRadius: \"0.1rem\",\n            color: \"black\",\n          }}\n        >\n          <FaIcon\n            icon={faMountain}\n            style={{ marginRight: \"0.4rem\", color: \"#343a40\" }}\n          ></FaIcon>\n          Randohub\n        </span>\n      </Navbar.Brand>\n      <Navbar.Toggle\n        className=\"mb-2\"\n        aria-controls=\"basic-navbar-nav\"\n        style={{ outline: \"none\" }}\n      />\n      <Navbar.Collapse id=\"basic-navbar-nav\" className=\"justify-content-end\">\n        {!loading && (\n          <Nav>\n            {isAuthenticated && (\n              <Nav.Link\n                className=\"btn btn-outline-primary mr-2\"\n                onClick={() => setShowModal(true)}\n              >\n                <FaIcon icon={faPlus} className=\"mr-2\"></FaIcon>Legg til tur\n              </Nav.Link>\n            )}\n            <Nav.Link href=\"/summits\">\n              <FaIcon\n                icon={faMountain}\n                style={{ marginRight: \"0.4rem\" }}\n              ></FaIcon>\n              Topper\n            </Nav.Link>\n            {!isAuthenticated && (\n              <Nav.Item>\n                <Button\n                  variant=\"link\"\n                  className=\"mr-2\"\n                  onClick={() => loginWithRedirect({})}\n                >\n                  <FaIcon\n                    icon={faKey}\n                    style={{ marginRight: \"0.4rem\" }}\n                  ></FaIcon>\n                  Logg inn\n                </Button>\n              </Nav.Item>\n            )}\n            {isAuthenticated && (\n              <>\n                <Nav.Item>\n                  <Nav.Link href=\"/bucketlist\">\n                    <FaIcon\n                      icon={faList}\n                      style={{ marginRight: \"0.4rem\" }}\n                    ></FaIcon>\n                    Ønskelista\n                  </Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link href=\"/profile\">\n                    <FaIcon\n                      icon={faSkiingNordic}\n                      style={{ marginRight: \"0.4rem\" }}\n                    ></FaIcon>\n                    Profil\n                  </Nav.Link>\n                </Nav.Item>\n                <Nav.Link className=\"mr-2\" onClick={() => logout()}>\n                  <FaIcon\n                    icon={faBan}\n                    style={{ marginRight: \"0.4rem\" }}\n                  ></FaIcon>\n                  Logg ut\n                </Nav.Link>\n              </>\n            )}\n          </Nav>\n        )}\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","import React from \"react\";\nimport { useAuth0 } from \"../containers/react-auth0-spa\";\n\nconst Profile = () => {\n  const { loading, user } = useAuth0();\n\n  if (loading || !user) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <>\n      <img src={user.picture} alt=\"Profile\" />\n\n      <h2>{user.name}</h2>\n      <p>{user.email}</p>\n      <code>{JSON.stringify(user, null, 2)}</code>\n    </>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport { FontAwesomeIcon as FaIcon } from \"@fortawesome/react-fontawesome\";\nimport { faImages } from \"@fortawesome/free-solid-svg-icons\";\n\nimport \"../styles/ImagePlaceholder.scss\";\n\nconst ImagePlaceholder = ({ text }) => {\n  return (\n    <div className=\"preview-image-placeholder\">\n      <FaIcon icon={faImages} size=\"10x\" className=\"text-muted\"></FaIcon>\n      {text && <p className=\"text-muted\">{text}</p>}\n    </div>\n  );\n};\n\nexport default ImagePlaceholder;\n","import React, { useState, useEffect } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport { FontAwesomeIcon as FaIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPen } from \"@fortawesome/free-solid-svg-icons\";\n\nimport \"../styles/Card.scss\";\nimport ImagePlaceholder from \"./ImagePlaceholder\";\nimport { useAuth0 } from \"../containers/react-auth0-spa\";\n\nconst TripCard = ({ trip, setTripToEdit, setShowModal }) => {\n  const { user } = useAuth0();\n\n  const [image, setImage] = useState();\n\n  const [date] = useState(\n    new Date(+trip?.createdAt).toLocaleString(undefined, {\n      year: \"numeric\",\n      month: \"numeric\",\n      day: \"numeric\",\n    })\n  );\n\n  useEffect(() => {\n    if (trip.images?.length > 0) {\n      fetch(`/s3/object/${trip.images[0]._id}`).then(async (res) => {\n        const imageBlob = await res.blob();\n        const imageUrl = URL.createObjectURL(imageBlob);\n        setImage(imageUrl);\n      });\n    }\n  }, [trip.images]);\n\n  const onEdit = () => {\n    setTripToEdit({ ...trip, imageIds: trip.images.map((img) => img._id) });\n    setShowModal(true);\n  };\n\n  return (\n    <Card className=\"card my-1\" bg=\"dark\">\n      <div className=\"p-1\">\n        <div className=\"d-flex justify-content-between\">\n          <div>\n            {date && <p className=\"small mb-0\">{date}</p>}\n            {trip.createdBy?.name && (\n              <p className=\"small text-muted\">{trip.createdBy.name}</p>\n            )}\n          </div>\n          {user && user.sub === trip.createdBy.sub && (\n            <Button variant=\"link\" onClick={onEdit}>\n              <FaIcon icon={faPen} className=\"text-muted\"></FaIcon>\n            </Button>\n          )}\n        </div>\n        {trip.name && <Card.Title className=\"mb-0\">{trip.name}</Card.Title>}\n      </div>\n      <div className=\"card-image-container\">\n        {image ? (\n          <Card.Img src={image} className=\"card-image rounded-0 pb-2\" />\n        ) : (\n          <ImagePlaceholder />\n        )}\n      </div>\n      {trip.description && <p className=\"text-muted\">{trip.description}</p>}\n    </Card>\n  );\n};\n\nexport default TripCard;\n","import React, { useState } from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport Image from \"react-bootstrap/Image\";\nimport Carousel from \"react-bootstrap/Carousel\";\nimport { FontAwesomeIcon as FaIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCheck, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport gql from \"graphql-tag\";\nimport { useMutation } from \"react-apollo\";\n\nimport { getIdTokenClaims } from \"../containers/react-auth0-spa\";\n\nimport ImagePlaceholder from \"./ImagePlaceholder\";\n\nimport \"../styles/TripModal.scss\";\n\nconst CREATE_IMAGE = gql`\n  mutation createImage($tripId: ID) {\n    createImage(tripId: $tripId) {\n      _id\n    }\n  }\n`;\n\nconst TripModal = ({\n  trip,\n  setTrip,\n  defaultTrip,\n  showModal,\n  setShowModal,\n  createTrip,\n  updateTrip,\n  deleteTrip,\n}) => {\n  const [files, setFiles] = useState();\n\n  const handleShow = async () => {\n    if (!trip._id) {\n      const tripWithId = await createTrip({ variables: trip });\n      setTrip({ ...trip, _id: tripWithId.data.createTrip._id });\n    }\n  };\n\n  const onSave = async () => {\n    await saveImages();\n    await updateTrip({ variables: trip });\n    handleClose();\n  };\n\n  const onDiscard = async () => {\n    if (trip._id) await deleteTrip({ variables: { _id: trip._id } });\n    handleClose();\n  };\n\n  const handleClose = () => {\n    setTrip(defaultTrip);\n    setShowModal(false);\n    setFiles();\n  };\n\n  const handleImageChange = (files) => {\n    setFiles(Array.from(files));\n  };\n\n  const saveImages = async () => {\n    const formData = new FormData();\n    if (files) {\n      for (const image of Array.from(files)) {\n        formData.append(\"images\", image);\n        const imageInfo = await createImage({\n          variables: { tripId: trip._id },\n        });\n        trip.imageIds.push(imageInfo.data.createImage._id);\n        formData.append(\"imageIds\", imageInfo.data.createImage._id);\n      }\n      const token = await getIdTokenClaims();\n      if (!token) return;\n      await fetch(\"/s3/object\", {\n        headers: {\n          authorization: `Bearer ${token.__raw}`,\n        },\n        method: \"POST\",\n        body: formData,\n      });\n    }\n  };\n\n  const [createImage] = useMutation(CREATE_IMAGE);\n\n  return showModal && trip ? (\n    <Modal show={showModal} onHide={handleClose} onShow={handleShow}>\n      <Modal.Header>\n        <Modal.Title className=\"w-100\">\n          <Form.Group>\n            <Form.Label>Navn på turen</Form.Label>\n            <Form.Control\n              value={trip.name}\n              onChange={(e) => setTrip({ ...trip, name: e.target.value })}\n            ></Form.Control>\n          </Form.Group>\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"image-container\">\n          {files?.length > 0 && (\n            <Carousel className=\"h-100\">\n              {files.map((file) => (\n                <Carousel.Item key={file.name}>\n                  <Image\n                    className=\"preview-image\"\n                    src={URL.createObjectURL(file)}\n                    rounded\n                  />\n                  <Carousel.Caption>\n                    <p>{files.length} bilde(r) er valgt.</p>\n                  </Carousel.Caption>\n                </Carousel.Item>\n              ))}\n            </Carousel>\n          )}\n          {(!files || files?.length === 0) && (\n            <ImagePlaceholder text={\"Ingen bilder er valgt.\"} />\n          )}\n        </div>\n        <Form.Group className=\"mt-2\">\n          <Form.File custom>\n            <Form.File.Input\n              multiple\n              accept=\"image/*\"\n              onChange={(e) => handleImageChange(e.target.files)}\n            />\n            <Form.File.Label data-browse=\"Velg bilder\">\n              Last opp bilder fra turen!\n            </Form.File.Label>\n          </Form.File>\n        </Form.Group>\n        <Form.Group>\n          <Form.Label>Beskrivelse</Form.Label>\n          <Form.Control\n            value={trip.description}\n            onChange={(e) => setTrip({ ...trip, description: e.target.value })}\n            placeholder=\"Hvordan var turen?\"\n            as=\"textarea\"\n            rows={3}\n          />\n        </Form.Group>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={() => onDiscard()}>\n          Forkast\n          <FaIcon icon={faTrash} className=\"ml-1\" />\n        </Button>\n        <Button onClick={() => onSave()}>\n          Lagre\n          <FaIcon icon={faCheck} className=\"ml-1\" />\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  ) : null;\n};\n\nexport default TripModal;\n","import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport gql from \"graphql-tag\";\nimport { useQuery, useMutation } from \"react-apollo\";\n\nimport TripCard from \"./TripCard\";\nimport TripModal from \"./TripModal\";\n\nconst GET_TRIPS = gql`\n  {\n    trips {\n      _id\n      name\n      description\n      createdAt\n      images {\n        _id\n      }\n      createdBy {\n        sub\n        name\n      }\n    }\n  }\n`;\n\nconst CREATE_TRIP = gql`\n  mutation CreateTrip(\n    $name: String\n    $description: String\n    $summitIds: [ID]\n    $imageIds: [ID]\n  ) {\n    createTrip(\n      name: $name\n      description: $description\n      summitIds: $summitIds\n      imageIds: $imageIds\n    ) {\n      _id\n      name\n      description\n      createdAt\n      images {\n        _id\n      }\n      createdBy {\n        sub\n        name\n      }\n    }\n  }\n`;\n\nconst UPDATE_TRIP = gql`\n  mutation UpdateTrip(\n    $_id: ID!\n    $name: String\n    $description: String\n    $summitIds: [ID]\n    $imageIds: [ID]\n  ) {\n    updateTrip(\n      _id: $_id\n      name: $name\n      description: $description\n      summitIds: $summitIds\n      imageIds: $imageIds\n    ) {\n      _id\n      name\n      description\n      createdAt\n      images {\n        _id\n      }\n      createdBy {\n        sub\n        name\n      }\n    }\n  }\n`;\n\nconst DELETE_TRIP = gql`\n  mutation DeleteTrip($_id: ID!) {\n    deleteTrip(_id: $_id)\n  }\n`;\n\nconst Feed = ({ trip, setTrip, defaultTrip, showModal, setShowModal }) => {\n  const { loading, error, data } = useQuery(GET_TRIPS);\n\n  if (error) console.log(error);\n\n  const [createTrip] = useMutation(CREATE_TRIP, {\n    update(cache, { data: { createTrip } }) {\n      const { trips } = cache.readQuery({ query: GET_TRIPS });\n      trips.unshift(createTrip);\n      cache.writeQuery({ query: GET_TRIPS, data: { trips: trips } });\n    },\n  });\n\n  const [updateTrip] = useMutation(UPDATE_TRIP, {\n    update(cache, { data: { updateTrip } }) {\n      let { trips } = cache.readQuery({ query: GET_TRIPS });\n      trips = trips.filter((trip) => trip._id !== updateTrip._id);\n      trips.unshift(updateTrip);\n      cache.writeQuery({ query: GET_TRIPS, data: { trips: trips } });\n    },\n  });\n\n  const [deleteTrip] = useMutation(DELETE_TRIP, {\n    update(cache, { data: { deleteTrip } }) {\n      let { trips } = cache.readQuery({ query: GET_TRIPS });\n      trips = trips.filter((trip) => trip._id !== deleteTrip);\n      cache.writeQuery({ query: GET_TRIPS, data: { trips: trips } });\n    },\n  });\n\n  return (\n    <Container className=\"py-4 px-0\">\n      <TripModal\n        trip={trip}\n        setTrip={setTrip}\n        defaultTrip={defaultTrip}\n        showModal={showModal}\n        setShowModal={setShowModal}\n        createTrip={createTrip}\n        updateTrip={updateTrip}\n        deleteTrip={deleteTrip}\n      />\n      {loading && <div>loading...</div>}\n      {data &&\n        data.trips.map((trip) => (\n          <TripCard\n            key={trip._id}\n            trip={trip}\n            setTripToEdit={setTrip}\n            setShowModal={setShowModal}\n          />\n        ))}\n    </Container>\n  );\n};\n\nexport default Feed;\n","import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport { FontAwesomeIcon as FaIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMap } from \"@fortawesome/free-solid-svg-icons\";\n\nimport { useHistory } from \"react-router-dom\";\n\n/* const GET_SUMMITS = gql`\n  {\n    summits {\n      _id\n      name\n      height\n    }\n  }\n`;\n\nconst CREATE_SUMMIT = gql`\n  mutation CreateSummit($name: String!, $height: Int!) {\n    createSummit(name: $name, height: $height) {\n      _id\n      name\n      height\n      createdAt\n    }\n  }\n`; */\n\nconst Summits = () => {\n  // const { user } = useAuth0();\n  const history = useHistory();\n\n  /* const { loading, error, data } = useQuery(GET_SUMMITS);\n\n  if (error) console.log(error);\n\n  const [createSummit] = useMutation(CREATE_SUMMIT, {\n    update(cache, { data: { createSummit } }) {\n      const { summits } = cache.readQuery({ query: GET_SUMMITS });\n      cache.writeQuery({\n        query: GET_SUMMITS,\n        data: { summits: [...summits, createSummit] },\n      });\n    },\n  });\n */\n  return (\n    <div\n      style={{\n        width: \"100vw\",\n        minHeight: \"100vh\",\n        backgroundColor: \"black\",\n      }}\n    >\n      <Container style={{ padding: \"1rem 0\" }}>\n        <Card\n          style={{\n            padding: \"1rem\",\n            margin: \"1rem 0\",\n            width: \"27rem\",\n            maxWidth: \"100%\",\n            color: \"#f8f9fa\",\n          }}\n          bg=\"dark\"\n        >\n          <Card.Title>Høgdebrotet</Card.Title>\n          <Card.Body>\n            <div>2226 moh.</div>\n          </Card.Body>\n          <Button onClick={() => history.push(\"/map\")}>\n            <FaIcon icon={faMap} className=\"mr-2\" />\n            Se kart\n          </Button>\n        </Card>\n        {/* {user && (\n          <Button\n            variant=\"outline-primary text-light\"\n            onClick={() => setShowModal(true)}\n          >\n            <FaIcon icon={faPlus} style={{ marginRight: \"0.4rem\" }}></FaIcon>\n            Legg til fjelltopp\n          </Button>\n        )}\n        <SummitModal\n          showModal={showModal}\n          setShowModal={setShowModal}\n          createSummit={createSummit}\n        />\n        {loading && <div>loading...</div>}\n        {data &&\n          data.summits.map((summit) => (\n            <Card\n              key={summit._id}\n              style={{\n                padding: \"1rem\",\n                margin: \"1rem 0\",\n                width: \"27rem\",\n                maxWidth: \"100%\",\n                color: \"#f8f9fa\",\n              }}\n              bg=\"dark\"\n            >\n              <Card.Title>{summit.name}</Card.Title>\n              <Card.Body>\n                <div>Høyde: {summit.height}</div>\n              </Card.Body>\n            </Card>\n          ))} */}\n      </Container>\n    </div>\n  );\n};\n\nexport default Summits;\n","import React from \"react\";\n\nconst BucketList = () => {\n  return (\n    <ul>\n      <li>Galdhøpiggen 2469</li>\n      <li>Denali 6190</li>\n      <li>K2 8611</li>\n    </ul>\n  );\n};\n\nexport default BucketList;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport mapboxgl from \"mapbox-gl\";\n\nconst Map = () => {\n  mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\n\n  const [mapState] = useState({\n    lng: 8.739,\n    lat: 61.448,\n    zoom: 12,\n  });\n\n  const mapEl = useRef();\n\n  useEffect(() => {\n    if (mapEl) {\n      new mapboxgl.Map({\n        container: mapEl.current,\n        style: \"mapbox://styles/nilseng/ckiuk1uf02ykx19szgx4psp19\",\n        center: [mapState.lng, mapState.lat],\n        zoom: mapState.zoom,\n      });\n    }\n  }, [mapEl, mapState]);\n\n  return (\n    <div\n      ref={mapEl}\n      id=\"map\"\n      className=\"vw-100\"\n      style={{\n        position: \"relative\",\n        height: \"calc(100vh - 58px)\",\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n      }}\n    ></div>\n  );\n};\n\nexport default Map;\n","import React, { useEffect, useState } from \"react\";\nimport { Router, Switch, Route } from \"react-router-dom\";\n\nimport history from \"../utils/history\";\n\nimport PrivateRoute from \"../containers/PrivateRoute\";\n\nimport NavBar from \"./NavBar\";\nimport Profile from \"./Profile\";\nimport Feed from \"./Feed\";\nimport Summits from \"./Summits\";\nimport BucketList from \"./BucketList\";\nimport { useAuth0 } from \"../containers/react-auth0-spa\";\nimport Map from \"./Map\";\n\nconst defaultTrip = {\n  _id: null,\n  name: \"Topptur\",\n  description: \"\",\n  summitIds: null,\n  imageIds: [],\n};\n\nconst App = () => {\n  const { getTokenSilently, loading } = useAuth0();\n  const [token, setToken] = useState();\n\n  const [trip, setTrip] = useState(defaultTrip);\n\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (!loading) {\n      const getTokenAsync = async () => {\n        const token = await getTokenSilently();\n        if (token)\n          try {\n            localStorage.setItem(\"token\", token);\n          } catch (e) {\n            console.log(`Could not set item in localStorage: ${e}`);\n          }\n      };\n      getTokenAsync();\n    }\n  }, [loading, getTokenSilently, token, setToken]);\n\n  return (\n    <>\n      <Router history={history}>\n        <header>\n          <NavBar setShowModal={setShowModal} />\n        </header>\n        <Switch>\n          <Route\n            path=\"/\"\n            exact\n            render={(props) => (\n              <Feed\n                trip={trip}\n                setTrip={setTrip}\n                defaultTrip={defaultTrip}\n                setShowModal={setShowModal}\n                showModal={showModal}\n              />\n            )}\n          />\n          <Route path=\"/summits\" component={Summits} />\n          <PrivateRoute path=\"/profile\" component={Profile} />\n          <PrivateRoute path=\"/bucketlist\" component={BucketList} />\n          <Route path=\"/map\" component={Map} />\n        </Switch>\n      </Router>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createHttpLink } from \"apollo-link-http\";\nimport { setContext } from \"apollo-link-context\";\nimport { ApolloProvider } from \"react-apollo\";\nimport { ApolloClient } from \"apollo-client\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\n\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Auth0Provider, getIdTokenClaims } from \"./containers/react-auth0-spa\";\nimport history from \"./utils/history\";\n\nimport App from \"./components/App\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\n\n// A function that routes the user to the right place\n// after login\nconst onRedirectCallback = (appState) => {\n  history.push(\n    appState && appState.targetUrl\n      ? appState.targetUrl\n      : window.location.pathname\n  );\n};\n\nconst httpLink = createHttpLink({ credentials: \"include\" });\n\nconst authLink = setContext(async (_, { headers }) => {\n  // get the authentication token from auth0\n  const token = await getIdTokenClaims();\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token.__raw}` : \"\",\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\nReactDOM.render(\n  <Auth0Provider\n    domain={process.env.REACT_APP_AUTH0_DOMAIN}\n    client_id={process.env.REACT_APP_AUTH0_CLIENT_ID}\n    redirect_uri={window.location.origin}\n    onRedirectCallback={onRedirectCallback}\n  >\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n  </Auth0Provider>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}